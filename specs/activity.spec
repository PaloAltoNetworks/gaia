# Model
model:
  rest_name: activity
  resource_name: activities
  entity_name: Activity
  package: hojo
  group: core/monitoring
  description: |-
    Contains logs of all the activity that happened in a namespace. All successful
    or
    failed actions will be available, errors, as well as the claims of
    the user who triggered the actions. This log is capped and only keeps the last
    50,000 entries by default.
  get:
    description: Retrieves the object with the given ID.
  extends:
  - '@zoned'
  - '@migratable'
  - '@identifiable-stored'
  - '@namespaced'

# Indexes
indexes:
- - namespace
  - date
- - namespace
  - operation
- - namespace
  - error.code
- - namespace
  - targetIdentity
- - namespace
  - data.ID
- - namespace
  - originalData.ID

# Attributes
attributes:
  v1:
  - name: claims
    description: Claims of the user who performed the operation.
    type: object
    exposed: true
    stored: true
    read_only: true
    autogenerated: true
    orderable: true

  - name: data
    description: This is deprecated in favor of `diff`.
    type: object
    exposed: true
    stored: true
    read_only: true
    autogenerated: true
    deprecated: true
    orderable: true

  - name: date
    description: Time-date stamp of the notification.
    type: time
    exposed: true
    stored: true
    read_only: true
    autogenerated: true
    orderable: true

  - name: diff
    description: Contains the diff of the change.
    type: string
    exposed: true
    stored: true
    read_only: true
    autogenerated: true

  - name: error
    description: Contains the error.
    type: object
    exposed: true
    stored: true
    read_only: true
    autogenerated: true
    orderable: true

  - name: message
    description: Message of the notification.
    type: string
    exposed: true
    stored: true
    orderable: true

  - name: operation
    description: Describes what kind of operation the notification represents.
    type: string
    exposed: true
    stored: true
    read_only: true
    autogenerated: true
    filterable: true

  - name: originalData
    description: This is deprecated in favor of `diff`.
    type: object
    exposed: true
    stored: true
    read_only: true
    autogenerated: true
    deprecated: true
    orderable: true

  - name: source
    description: Contains meta information about the source.
    type: string
    exposed: true
    stored: true
    read_only: true
    autogenerated: true
    filterable: true
    orderable: true

  - name: targetIdentity
    description: The identity of the related object.
    type: string
    exposed: true
    stored: true
    read_only: true
    autogenerated: true
    filterable: true
    orderable: true
