# Model
model:
  rest_name: account
  resource_name: accounts
  entity_name: Account
  package: vince
  group: core/account
  description: |-
    This api allows to view and manage basic information about your account like
    your name, password, enable 2 factor authentication.
  get:
    description: Retrieves the object with the given ID.
  update:
    description: Updates the object with the given ID.
  delete:
    description: Deletes the object with the given ID.
    global_parameters:
    - $filtering
  extends:
  - '@zoned'
  - '@identifiable-stored'
  - '@timeable'

# Indexes
indexes:
- - name
- - email
- - activationToken
- - resetPasswordToken

# Attributes
attributes:
  v1:
  - name: OTPEnabled
    description: Set to enable or disable two factor authentication.
    type: boolean
    exposed: true
    stored: true

  - name: OTPQRCode
    description: Returns the base64 encoded QRCode for setting up 2 factor auth.
    type: string
    exposed: true
    read_only: true
    autogenerated: true
    transient: true

  - name: OTPSecret
    description: Stores the 2 factor secret.
    type: string
    stored: true

  - name: SSHCA
    description: SSHCA holds the eventual SSH authority used by the account namespace.
    type: string
    exposed: true
    stored: true
    read_only: true
    autogenerated: true

  - name: SSHCARenew
    description: If enabled, renew the SSH authority of the account namespace.
    type: boolean
    exposed: true

  - name: accessEnabled
    description: AccessEnabled defines if the account holder should have access to
      the systems.
    type: boolean
    exposed: true
    stored: true
    orderable: true

  - name: activationExpiration
    description: ActivationExpiration contains the expiration date of the activation
      token.
    type: time
    stored: true
    autogenerated: true

  - name: activationToken
    description: ActivationToken contains the activation token.
    type: string
    exposed: true
    stored: true
    autogenerated: true
    omit_empty: true

  - name: associatedAPIAuthPolicyID
    description: AssociatedAPIAuthPolicyID holds the ID of the associated API auth
      policy.
    type: string
    stored: true

  - name: associatedAWSPolicies
    description: AssociatedAWSPolicies contains a map of associated AWS Enforcerd
      Policies.
    type: external
    subtype: map[string]string
    stored: true

  - name: associatedBillingID
    description: associatedBillingID holds the ID of the associated billing customer.
    type: string
    exposed: true
    stored: true

  - name: associatedNamespaceID
    description: AssociatedNamespaceID contains the ID of the associated namespace.
    type: string
    stored: true

  - name: associatedPlanKey
    description: AssociatedPlanKey contains the plan key that is associated to this
      account.
    type: string
    exposed: true
    stored: true
    creation_only: true

  - name: associatedQuotaPolicies
    description: AssociatedQuotaPolicies contains a mapping to the associated quota
      pollicies.
    type: external
    subtype: map[string]string
    stored: true

  - name: company
    description: Company of the account user.
    type: string
    exposed: true
    stored: true
    example_value: Acme
    filterable: true
    orderable: true

  - name: email
    description: Email of the account holder.
    type: string
    exposed: true
    stored: true
    required: true
    example_value: user@acme.com
    filterable: true
    orderable: true

  - name: firstName
    description: First Name of the account user.
    type: string
    exposed: true
    stored: true
    example_value: John
    filterable: true
    orderable: true

  - name: lastName
    description: Last Name of the account user.
    type: string
    exposed: true
    stored: true
    example_value: Doe
    filterable: true
    orderable: true

  - name: name
    description: Name of the account.
    type: string
    exposed: true
    stored: true
    required: true
    creation_only: true
    allowed_chars: ^[^\*\=]*$
    allowed_chars_message: must not contain any '*' or '='
    example_value: acme
    filterable: true
    orderable: true

  - name: password
    description: Password for the account.
    type: string
    exposed: true
    stored: true
    orderable: true

  - name: reCAPTCHAKey
    description: ReCAPTCHAKey contains the capcha validation if reCAPTCH is enabled.
    type: string
    exposed: true
    creation_only: true

  - name: resetPasswordExpiration
    description: ResetPasswordExpiration contains the expiration time for reseting
      the password.
    type: time
    stored: true
    autogenerated: true

  - name: resetPasswordToken
    description: ResetPasswordToken contains the token to use for resetting password.
    type: string
    stored: true
    autogenerated: true

  - name: status
    description: Status of the account.
    type: enum
    exposed: true
    stored: true
    read_only: true
    allowed_choices:
    - Active
    - Disabled
    - Invited
    - Pending
    autogenerated: true
    default_value: Pending
    filterable: true
    orderable: true
